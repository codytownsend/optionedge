I'm building a Python-based options trade discovery engine that simulates the research workflow of a quantitative options desk. The system integrates live financial data from APIs and outputs the 5 most favorable options trades based on quantitative selection rules. It must be modular, repeatable, and support both broad-market scans and custom portfolio-focused scans. Core System Objectives * Input: Real-time options chain data, fundamentals, technicals, macro data, sentiment * Processing: Generate strategies, apply risk constraints, score and rank trades * Output: Console-friendly table with top 5 executable trades meeting all criteria Key Constraints & Requirements * Maximum 5 trades selected with POP ≥ 0.65, credit-to-max-loss ≥ 0.33 * Portfolio Greeks limits: Delta [-0.30, +0.30] × (NAV/100k), Vega ≥ -0.05 × (NAV/100k) * Sector diversification: Max 2 trades per GICS sector * Quote age ≤ 10 minutes, max loss ≤ $500 per trade * Capital availability constraints based on user NAV System Architecture (8 Phases) 1. Foundation & Data Infrastructure - Project setup, API integration, data models 2. Options Data Collection - Full options chains, Greeks, fundamentals, technicals 3. Strategy Generation - Create strategies (spreads, condors), calculate POP, Greeks 4. Filtering & Constraints - Apply hard constraints, portfolio limits, sector rules 5. Scoring & Ranking - Multi-factor model, momentum/flow Z-scores, tie-breaking 6. Output Generation - Format table, validate trades, generate thesis statements 7. Testing & QA - Unit tests, integration tests, backtesting, error handling 8. Optimization & Monitoring - Performance tuning, caching, monitoring Data Sources & APIs * Tradier: Options chains and Greeks * Yahoo Finance/RapidAPI: Fundamentals and OHLCV * FRED: Macro indicators * QuiverQuant: Sentiment and alternative data * ETF flow data: For flow Z-score calculations Modular Design Principles * Each phase builds on previous phases with clear interfaces * Components should be independently testable and replaceable * Data flows through validation layers before business logic * Portfolio-level constraints aggregate across individual trades * Error handling and fallback mechanisms throughout Final Output Format

Ticker | Strategy | Legs | Thesis | POP
Fixed-width console table with ≤30 word thesis explanations. Development Context I'm working on this systematically through the 8 phases. The codebase is connected to a repository, and I may be working on specific components or integrating across phases. Please help me maintain consistency with the overall architecture while building robust, testable components that will integrate seamlessly with other parts of the system. When providing code or guidance, please consider how it fits within the broader system design and ensure compatibility with the phase-based development approach.